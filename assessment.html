<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Business Assessment â€” BizStack.ai</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0F172A;
      --bg2: #1E293B;
      --bg3: #334155;
      --blue: #3B82F6;
      --blue2: #2563EB;
      --purple: #8B5CF6;
      --green: #10B981;
      --gold: #F59E0B;
      --red: #EF4444;
      --w100: #fff;
      --w70: rgba(255,255,255,.7);
      --w40: rgba(255,255,255,.4);
      --display: 'Space Grotesk', system-ui, sans-serif;
      --body: 'Inter', system-ui, sans-serif;
      --r: .75rem;
      --r2: 1.25rem;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: var(--body);
      background: var(--bg);
      color: var(--w100);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* â”€â”€ NAV â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    nav {
      position: fixed; top: 0; left: 0; right: 0; z-index: 100;
      background: var(--bg);
      border-bottom: 1px solid rgba(255,255,255,.06);
      height: 64px;
      display: flex; align-items: center;
    }
    .nav-inner {
      max-width: 1200px; width: 100%; margin: 0 auto;
      padding: 0 2rem;
      display: flex; align-items: center; justify-content: space-between;
    }
    .nav-logo {
      font-family: var(--display);
      font-size: 1.375rem; font-weight: 700;
      text-decoration: none; color: var(--w100);
      display: flex; align-items: center; gap: .5rem;
    }
    .nav-logo span { color: var(--blue); }
    .nav-links { display: flex; align-items: center; gap: 1.5rem; }
    .nav-links a {
      color: rgba(255,255,255,.88);
      text-decoration: none; font-size: .875rem;
      font-weight: 500; letter-spacing: .01em;
      transition: color .2s;
    }
    .nav-links a:hover { color: var(--blue); }
    .nav-cta {
      background: rgba(59,130,246,.15) !important;
      border: 1px solid rgba(59,130,246,.3);
      color: var(--blue) !important;
      padding: .45rem 1.1rem;
      border-radius: 6px;
      font-size: .8125rem !important;
      transition: background .2s, border-color .2s !important;
    }
    .nav-cta:hover { background: rgba(59,130,246,.25) !important; border-color: rgba(59,130,246,.5) !important; }

    /* â”€â”€ PROGRESS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #progressWrap {
      position: fixed; top: 64px; left: 0; right: 0; z-index: 99;
      height: 3px; background: rgba(255,255,255,.07);
    }
    #progressBar {
      height: 100%;
      background: linear-gradient(90deg, var(--blue), var(--purple));
      width: 0%;
      transition: width .45s cubic-bezier(.4,0,.2,1);
    }

    /* â”€â”€ MAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    main {
      min-height: 100vh;
      padding-top: 67px;
      display: flex; flex-direction: column; align-items: center;
    }

    #stage {
      width: 100%; flex: 1;
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      padding: 3.5rem 1.5rem 6rem;
    }

    /* â”€â”€ Q PANEL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #qPanel {
      width: 100%; max-width: 700px;
      transition: opacity .22s ease, transform .28s cubic-bezier(.4,0,.2,1);
    }
    #qPanel.exit-left  { opacity: 0; transform: translateX(-52px); }
    #qPanel.exit-right { opacity: 0; transform: translateX(52px); }
    #qPanel.enter-left  { opacity: 0; transform: translateX(52px); }
    #qPanel.enter-right { opacity: 0; transform: translateX(-52px); }

    .q-step {
      font-family: var(--display);
      font-size: .75rem; font-weight: 600;
      color: var(--blue); letter-spacing: .1em; text-transform: uppercase;
      margin-bottom: .875rem;
    }
    .q-title {
      font-family: var(--display);
      font-size: clamp(1.5rem, 3.5vw, 2.25rem);
      font-weight: 700; line-height: 1.2;
      margin-bottom: .625rem;
    }
    .q-sub {
      color: var(--w70); font-size: .9375rem;
      margin-bottom: 2rem; line-height: 1.55;
    }

    /* â”€â”€ TEXT / EMAIL / TEL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .q-input, .q-textarea {
      width: 100%;
      background: var(--bg2);
      border: 1.5px solid rgba(255,255,255,.11);
      border-radius: var(--r);
      color: var(--w100);
      font-family: var(--body);
      font-size: 1.0625rem;
      padding: 1rem 1.25rem;
      outline: none;
      transition: border-color .2s, box-shadow .2s;
    }
    .q-input:focus, .q-textarea:focus {
      border-color: var(--blue);
      box-shadow: 0 0 0 3px rgba(59,130,246,.18);
    }
    .q-input::placeholder, .q-textarea::placeholder { color: var(--w40); }
    .q-textarea { resize: vertical; min-height: 150px; line-height: 1.6; }
    .q-input.err { border-color: var(--red); }

    .err-msg {
      color: var(--red); font-size: .8125rem;
      margin-top: .5rem; display: none;
    }
    .err-msg.show { display: block; }

    /* â”€â”€ TEXT DUAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .dual-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }

    /* â”€â”€ SINGLE GRID (industry) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .single-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(152px, 1fr));
      gap: .625rem;
    }
    .sg-opt {
      background: var(--bg2);
      border: 1.5px solid rgba(255,255,255,.09);
      border-radius: var(--r);
      padding: .75rem 1rem;
      font-size: .875rem; font-weight: 500;
      color: var(--w70);
      cursor: pointer; text-align: center;
      transition: border-color .18s, color .18s, background .18s, box-shadow .18s;
      user-select: none;
    }
    .sg-opt:hover { border-color: rgba(59,130,246,.5); color: var(--w100); background: rgba(59,130,246,.06); }
    .sg-opt.sel {
      border-color: var(--blue);
      background: rgba(59,130,246,.13);
      color: var(--w100);
      box-shadow: 0 0 0 2px rgba(59,130,246,.22);
    }

    /* â”€â”€ SINGLE CARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .single-cards { display: flex; flex-direction: column; gap: .625rem; }
    .sc-opt {
      background: var(--bg2);
      border: 1.5px solid rgba(255,255,255,.09);
      border-radius: var(--r);
      padding: 1rem 1.25rem;
      display: flex; align-items: center; gap: 1rem;
      cursor: pointer;
      transition: border-color .18s, background .18s, box-shadow .18s;
      user-select: none;
    }
    .sc-opt:hover { border-color: rgba(59,130,246,.45); background: rgba(59,130,246,.05); }
    .sc-opt.sel {
      border-color: var(--blue);
      background: rgba(59,130,246,.1);
      box-shadow: 0 0 0 2px rgba(59,130,246,.18);
    }
    .sc-icon {
      width: 42px; height: 42px; border-radius: .5rem;
      background: rgba(255,255,255,.05);
      display: flex; align-items: center; justify-content: center;
      font-size: 1.25rem; flex-shrink: 0;
    }
    .sc-opt.sel .sc-icon { background: rgba(59,130,246,.18); }
    .sc-body { flex: 1; min-width: 0; }
    .sc-label { font-weight: 600; font-size: .9375rem; color: var(--w100); }
    .sc-desc { font-size: .8rem; color: var(--w70); margin-top: .125rem; }
    .sc-check {
      margin-left: auto; flex-shrink: 0;
      width: 22px; height: 22px; border-radius: 50%;
      border: 2px solid rgba(255,255,255,.18);
      display: flex; align-items: center; justify-content: center;
      transition: border-color .18s, background .18s;
    }
    .sc-opt.sel .sc-check { border-color: var(--blue); background: var(--blue); }
    .sc-check-svg { display: none; }
    .sc-opt.sel .sc-check-svg { display: block; }

    /* â”€â”€ MULTI SELECT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .multi-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(210px, 1fr));
      gap: .625rem;
    }
    .ms-opt {
      background: var(--bg2);
      border: 1.5px solid rgba(255,255,255,.09);
      border-radius: var(--r);
      padding: .875rem 1rem;
      display: flex; align-items: center; gap: .75rem;
      cursor: pointer;
      transition: border-color .18s, background .18s, box-shadow .18s;
      user-select: none;
    }
    .ms-opt:hover { border-color: rgba(59,130,246,.4); }
    .ms-opt.sel {
      border-color: var(--blue);
      background: rgba(59,130,246,.1);
      box-shadow: 0 0 0 2px rgba(59,130,246,.15);
    }
    .ms-cb {
      width: 20px; height: 20px; border-radius: 5px; flex-shrink: 0;
      border: 2px solid rgba(255,255,255,.22);
      display: flex; align-items: center; justify-content: center;
      transition: border-color .18s, background .18s;
    }
    .ms-opt.sel .ms-cb { border-color: var(--blue); background: var(--blue); }
    .ms-cb-svg { display: none; }
    .ms-opt.sel .ms-cb-svg { display: block; }
    .ms-label { font-size: .875rem; font-weight: 500; color: var(--w100); }

    /* â”€â”€ NAV BUTTONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .q-nav {
      margin-top: 2rem;
      display: flex; align-items: center; gap: 1rem;
    }
    .btn-back {
      padding: .8rem 1.5rem;
      background: transparent;
      border: 1.5px solid rgba(255,255,255,.13);
      border-radius: 8px;
      color: var(--w70); font-family: var(--body);
      font-size: .9375rem; font-weight: 600;
      cursor: pointer;
      transition: border-color .2s, color .2s;
    }
    .btn-back:hover { border-color: rgba(255,255,255,.28); color: var(--w100); }
    .btn-cont {
      padding: .85rem 2rem;
      background: linear-gradient(135deg, var(--blue), var(--purple));
      border: none; border-radius: 8px;
      color: #fff; font-family: var(--body);
      font-size: .9375rem; font-weight: 700;
      cursor: pointer;
      transition: opacity .2s, transform .2s, box-shadow .2s;
      display: flex; align-items: center; gap: .5rem;
    }
    .btn-cont:hover {
      opacity: .9; transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(59,130,246,.4);
    }
    .btn-final {
      padding: 1rem 2.5rem;
      background: linear-gradient(135deg, var(--blue), var(--purple));
      border: none; border-radius: 8px;
      color: #fff; font-family: var(--body);
      font-size: 1rem; font-weight: 700;
      cursor: pointer;
      transition: opacity .2s, transform .2s, box-shadow .2s;
      width: 100%; margin-top: .5rem;
    }
    .btn-final:hover {
      opacity: .9; transform: translateY(-2px);
      box-shadow: 0 14px 40px rgba(59,130,246,.5);
    }

    /* â”€â”€ RESULTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #results { width: 100%; max-width: 800px; }

    .res-header { text-align: center; margin-bottom: 2.5rem; }
    .res-tag {
      display: inline-block;
      background: rgba(16,185,129,.12);
      color: var(--green);
      border: 1px solid rgba(16,185,129,.22);
      border-radius: 100px; padding: .35rem .9rem;
      font-size: .75rem; font-weight: 700; letter-spacing: .07em;
      text-transform: uppercase; margin-bottom: 1rem;
    }
    .res-header h1 {
      font-family: var(--display);
      font-size: clamp(1.75rem, 4vw, 2.75rem);
      font-weight: 700; line-height: 1.2; margin-bottom: .75rem;
    }
    .res-header p { color: var(--w70); font-size: 1rem; max-width: 560px; margin: 0 auto; line-height: 1.6; }

    /* Tier card */
    .tier-card {
      background: var(--bg2);
      border: 1.5px solid rgba(255,255,255,.1);
      border-radius: var(--r2);
      padding: 2rem 2.25rem; margin-bottom: 1.5rem;
      position: relative; overflow: hidden;
    }
    .tier-card.rec {
      border-color: rgba(59,130,246,.5);
      box-shadow: 0 0 0 1px rgba(59,130,246,.15), 0 20px 60px rgba(59,130,246,.1);
    }
    .tier-card::before {
      content: ''; position: absolute;
      top: 0; left: 0; right: 0; height: 3px;
      background: linear-gradient(90deg, var(--blue), var(--purple));
    }
    .tier-badge {
      display: inline-flex; align-items: center; gap: .4rem;
      background: rgba(59,130,246,.13);
      border: 1px solid rgba(59,130,246,.28);
      border-radius: 100px; padding: .3rem .875rem;
      font-size: .75rem; font-weight: 700; letter-spacing: .06em;
      text-transform: uppercase; color: var(--blue);
      margin-bottom: 1.125rem;
    }
    .tier-name {
      font-family: var(--display);
      font-size: 1.875rem; font-weight: 700; margin-bottom: .25rem;
    }
    .tier-price {
      font-size: 2.75rem; font-weight: 800;
      color: var(--blue); line-height: 1; margin-bottom: .5rem;
    }
    .tier-price span { font-size: 1rem; font-weight: 400; color: var(--w70); }
    .tier-desc { color: var(--w70); margin-bottom: 1.75rem; font-size: .9375rem; line-height: 1.55; }
    .tier-features { display: grid; grid-template-columns: 1fr 1fr; gap: .625rem; }
    .tf-item { display: flex; align-items: center; gap: .625rem; font-size: .875rem; }
    .tf-dot {
      width: 20px; height: 20px; border-radius: 50%;
      background: rgba(16,185,129,.18);
      display: flex; align-items: center; justify-content: center; flex-shrink: 0;
    }

    /* Exceed budget */
    .exceed-card {
      background: rgba(245,158,11,.07);
      border: 1.5px solid rgba(245,158,11,.22);
      border-radius: var(--r);
      padding: 1.25rem 1.5rem;
      display: flex; gap: 1rem; align-items: flex-start;
      margin-bottom: 1.5rem;
    }
    .exceed-icon { font-size: 1.5rem; flex-shrink: 0; }
    .exceed-title { font-weight: 700; font-size: .9375rem; color: var(--gold); margin-bottom: .35rem; }
    .exceed-body { color: var(--w70); font-size: .875rem; line-height: 1.55; }

    /* Section title */
    .sec-title {
      font-family: var(--display);
      font-size: 1.125rem; font-weight: 700;
      margin-bottom: 1rem; margin-top: 2.25rem;
      display: flex; align-items: center; gap: .75rem;
    }
    .sec-title::after {
      content: ''; flex: 1; height: 1px;
      background: rgba(255,255,255,.07);
    }

    /* Challenge cards */
    .ch-cards { display: flex; flex-direction: column; gap: .75rem; }
    .ch-card {
      background: var(--bg2);
      border: 1px solid rgba(255,255,255,.07);
      border-radius: var(--r); padding: 1.125rem 1.25rem;
    }
    .ch-name { font-weight: 700; font-size: .9375rem; margin-bottom: .375rem; }
    .ch-desc { color: var(--w70); font-size: .875rem; line-height: 1.55; }
    .ch-pill {
      display: inline-block;
      background: rgba(59,130,246,.11);
      color: var(--blue); border-radius: 100px;
      padding: .2rem .75rem; font-size: .75rem; font-weight: 600;
      margin-top: .625rem; border: 1px solid rgba(59,130,246,.2);
    }

    /* Snapshot */
    .snapshot {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(185px, 1fr));
      gap: .75rem;
    }
    .sn-item {
      background: var(--bg2); border: 1px solid rgba(255,255,255,.07);
      border-radius: var(--r); padding: 1rem 1.125rem;
    }
    .sn-label { font-size: .7rem; color: var(--w40); text-transform: uppercase; letter-spacing: .07em; margin-bottom: .25rem; }
    .sn-value { font-weight: 700; font-size: .9375rem; }

    /* CTAs */
    .res-ctas {
      display: flex; gap: 1rem; margin-top: 2.25rem; flex-wrap: wrap;
    }
    .btn-primary-res {
      flex: 1; min-width: 200px;
      padding: 1rem 1.5rem;
      background: linear-gradient(135deg, var(--blue), var(--purple));
      border: none; border-radius: 8px;
      color: #fff; font-family: var(--body);
      font-size: 1rem; font-weight: 700;
      cursor: pointer; text-align: center; text-decoration: none;
      display: flex; align-items: center; justify-content: center; gap: .5rem;
      transition: opacity .2s, transform .2s, box-shadow .2s;
    }
    .btn-primary-res:hover { opacity: .9; transform: translateY(-2px); box-shadow: 0 10px 30px rgba(59,130,246,.4); }
    .btn-secondary-res {
      flex: 1; min-width: 200px;
      padding: 1rem 1.5rem;
      background: transparent;
      border: 1.5px solid rgba(255,255,255,.18);
      border-radius: 8px;
      color: var(--w100); font-family: var(--body);
      font-size: 1rem; font-weight: 600;
      cursor: pointer; text-align: center; text-decoration: none;
      display: flex; align-items: center; justify-content: center; gap: .5rem;
      transition: border-color .2s, background .2s;
    }
    .btn-secondary-res:hover { border-color: rgba(255,255,255,.38); background: rgba(255,255,255,.04); }
    .btn-restart {
      width: 100%; padding: .875rem; margin-top: 1.25rem;
      background: transparent; border: none;
      color: var(--w40); font-family: var(--body); font-size: .875rem;
      cursor: pointer; transition: color .2s;
    }
    .btn-restart:hover { color: var(--w70); }

    /* â”€â”€ RESPONSIVE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (max-width: 640px) {
      .nav-links { display: none; }
      .dual-row { grid-template-columns: 1fr; }
      .single-grid { grid-template-columns: repeat(2, 1fr); }
      .multi-grid { grid-template-columns: 1fr; }
      .tier-features { grid-template-columns: 1fr; }
      .res-ctas { flex-direction: column; }
      #stage { padding: 2.5rem 1rem 5rem; }
    }
  </style>
</head>
<body>

<!-- NAV -->
<nav>
  <div class="nav-inner">
    <a href="index.html" class="nav-logo">Biz<span>Stack</span>.ai</a>
    <div class="nav-links">
      <a href="index.html#services">Services</a>
      <a href="index.html#pricing">Pricing</a>
      <a href="index.html#reviews">Reviews</a>
      <a href="index.html" class="nav-cta">â† Back to Site</a>
    </div>
  </div>
</nav>

<!-- PROGRESS BAR -->
<div id="progressWrap"><div id="progressBar"></div></div>

<main>
  <div id="stage">
    <div id="qPanel"></div>
  </div>
</main>

<script>
// â”€â”€ QUESTION DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const QUESTIONS = [
  {
    id: 'name', type: 'text',
    title: "Let's start â€” what's your name?",
    sub: "We'll use this to personalize your recommendation.",
    placeholder: "Your full name",
    required: true
  },
  {
    id: 'email', type: 'email',
    title: "What's the best email to reach you?",
    sub: "We'll send your personalized proposal here â€” no spam, ever.",
    placeholder: "you@yourbusiness.com",
    required: true
  },
  {
    id: 'phone', type: 'tel',
    title: "And your phone number?",
    sub: "Optional, but our team loves a quick call. We'll never cold-call you.",
    placeholder: "(555) 000-0000",
    required: false
  },
  {
    id: 'industry', type: 'single-grid',
    title: "What industry is your business in?",
    sub: "We'll match you with services that work best in your field.",
    options: [
      "ğŸ  Home Services","ğŸ¥ Healthcare / Wellness","âš–ï¸ Legal / Professional",
      "ğŸ¡ Real Estate","ğŸ½ï¸ Restaurant / Food","ğŸ›’ Retail / E-Commerce",
      "ğŸ”¨ Construction / Contracting","ğŸ“š Education / Coaching",
      "ğŸ’° Financial Services","ğŸ’… Beauty / Salon / Spa",
      "ğŸš— Auto / Transportation","ğŸ’» Technology",
      "â¤ï¸ Non-Profit","ğŸ“£ Marketing / Agency",
      "ğŸ‹ï¸ Fitness / Sports","âœ¨ Other"
    ],
    required: true
  },
  {
    id: 'location', type: 'text-dual',
    title: "Where is your business located?",
    sub: "We serve clients across the US â€” this helps us tailor local strategies.",
    fields: [
      { key: 'city', placeholder: 'City' },
      { key: 'state', placeholder: 'State (e.g. TX)' }
    ],
    required: true
  },
  {
    id: 'teamSize', type: 'single-card',
    title: "How many people are on your team?",
    sub: "This helps us recommend the right scale of tools and automation.",
    options: [
      { icon: 'ğŸ‘¤', label: 'Solo', desc: "Just me â€” I'm the whole operation", score: 1 },
      { icon: 'ğŸ‘¥', label: '2â€“5 people', desc: "Small but mighty", score: 2 },
      { icon: 'ğŸ¢', label: '6â€“20 people', desc: "Established team with real processes", score: 3 },
      { icon: 'ğŸ­', label: '21â€“50 people', desc: "Mid-size and scaling", score: 4 },
      { icon: 'ğŸš€', label: '50+ people', desc: "Large organization", score: 5 }
    ],
    required: true
  },
  {
    id: 'website', type: 'single-card',
    title: "How's your current website situation?",
    sub: "Be honest â€” this tells us a lot about where to start.",
    options: [
      { icon: 'âŒ', label: 'No website yet', desc: "Starting from scratch", score: 3 },
      { icon: 'ğŸ•°ï¸', label: 'Basic / outdated site', desc: "It exists, but it's old or DIY", score: 2 },
      { icon: 'ğŸ˜', label: 'OK site, not converting', desc: "Looks fine but doesn't generate leads", score: 1 },
      { icon: 'âœ…', label: 'Professional & converting', desc: "Getting solid traffic and leads", score: 0 }
    ],
    required: true
  },
  {
    id: 'revenue', type: 'single-card',
    title: "What's your current annual revenue?",
    sub: "Completely confidential â€” this shapes how we structure growth for you.",
    options: [
      { icon: 'ğŸŒ±', label: 'Pre-revenue / Startup', desc: "Not generating revenue yet", score: 0 },
      { icon: 'ğŸ“ˆ', label: 'Under $250K/yr', desc: "Early-stage business", score: 1 },
      { icon: 'ğŸ’¼', label: '$250K â€“ $1M/yr', desc: "Growing business", score: 2 },
      { icon: 'ğŸ†', label: '$1M â€“ $5M/yr', desc: "Established and scaling", score: 3 },
      { icon: 'ğŸŒŸ', label: '$5M+/yr', desc: "High-volume enterprise", score: 4 }
    ],
    required: true
  },
  {
    id: 'budget', type: 'single-card',
    title: "What's your monthly budget for business tools & services?",
    sub: "This is your budget ceiling â€” we'll never recommend more than you can spend.",
    options: [
      { icon: 'ğŸ’µ', label: 'Under $100/mo', desc: "Very lean budget", ceilIndex: 0, score: 0 },
      { icon: 'ğŸ’³', label: '$100 â€“ $300/mo', desc: "Starter-level investment", ceilIndex: 1, score: 1 },
      { icon: 'ğŸ“Š', label: '$300 â€“ $500/mo', desc: "Growth-stage budget", ceilIndex: 2, score: 2 },
      { icon: 'ğŸ’°', label: '$500 â€“ $1,000/mo', desc: "Serious about scaling", ceilIndex: 3, score: 3 },
      { icon: 'ğŸ¦', label: '$1,000+/mo', desc: "Enterprise investment", ceilIndex: 3, score: 4 },
      { icon: 'ğŸ¤”', label: 'Not sure yet', desc: "Help me figure out the right budget", ceilIndex: 3, score: 2 }
    ],
    required: true
  },
  {
    id: 'timeline', type: 'single-card',
    title: "When are you looking to get started?",
    sub: "We'll match your urgency with our team's availability.",
    options: [
      { icon: 'âš¡', label: 'ASAP', desc: "Within the next 2 weeks", score: 0 },
      { icon: 'ğŸ“…', label: '1â€“3 months', desc: "Planning for the near future", score: 0 },
      { icon: 'ğŸ—“ï¸', label: '3â€“6 months', desc: "Working up to it", score: 0 },
      { icon: 'â³', label: '6+ months out', desc: "Long-term planning", score: 0 },
      { icon: 'ğŸ”', label: 'Just exploring', desc: "Researching my options", score: 0 }
    ],
    required: true
  },
  {
    id: 'challenges', type: 'multi',
    title: "What are your biggest business challenges right now?",
    sub: "Select all that apply â€” the more you share, the better we can help.",
    options: [
      "Not enough leads / traffic",
      "Low website conversion rate",
      "Poor online reputation / reviews",
      "Too many manual repetitive tasks",
      "No clear marketing strategy",
      "Inconsistent or unpredictable revenue",
      "Hard to manage customer follow-up",
      "No CRM or client tracking system",
      "Weak social media presence",
      "Struggling to scale operations"
    ],
    required: true
  },
  {
    id: 'tools', type: 'multi',
    title: "Which tools are you currently using?",
    sub: "We'll work with what you have and fill in the gaps.",
    options: [
      "Spreadsheets (Excel / Google Sheets)",
      "Email marketing (Mailchimp, Klaviyo, etc.)",
      "CRM (HubSpot, Salesforce, etc.)",
      "Social scheduling tool",
      "Review management tool",
      "Website builder (Wix, Squarespace, etc.)",
      "Ad platform (Google Ads, Meta Ads)",
      "None / just getting started"
    ],
    required: false
  },
  {
    id: 'goal', type: 'textarea',
    title: "What's the #1 outcome you want from BizStack.ai?",
    sub: "Be specific â€” this becomes the north star for your custom plan.",
    placeholder: "e.g. I want to generate 20 new qualified leads per month and automate my follow-up so I stop losing customers to competitors...",
    required: true
  },
  {
    id: 'source', type: 'single-card',
    title: "Last one â€” how did you hear about BizStack.ai?",
    sub: "This helps us understand where to focus our outreach.",
    options: [
      { icon: 'ğŸ”', label: 'Google Search', desc: "Found you while searching", score: 0 },
      { icon: 'ğŸ“±', label: 'Social Media', desc: "Instagram, LinkedIn, TikTok, etc.", score: 0 },
      { icon: 'ğŸ¤', label: 'Referral / Friend', desc: "Someone recommended you", score: 0 },
      { icon: 'ğŸ“¢', label: 'Online Ad', desc: "Saw an ad somewhere", score: 0 },
      { icon: 'â–¶ï¸', label: 'YouTube', desc: "", score: 0 },
      { icon: 'âœ¨', label: 'Other', desc: "", score: 0 }
    ],
    required: false
  }
];

// â”€â”€ TIER DEFINITIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const TIERS = [
  {
    name: 'Starter',
    price: '$99', per: '/mo',
    desc: 'Perfect for solo operators and early-stage businesses ready to build a strong online foundation.',
    features: [
      'Professional website (5 pages)',
      'Google Business optimization',
      'Monthly SEO performance report',
      'Review monitoring & alerts',
      'Email support (48-hr response)'
    ]
  },
  {
    name: 'Growth',
    price: '$299', per: '/mo',
    desc: 'Built for growing businesses ready to invest in lead generation and marketing automation.',
    features: [
      'Everything in Starter',
      'Lead generation campaigns',
      'Email marketing automation',
      'CRM integration & setup',
      'Social media management (3x/wk)',
      'Bi-weekly strategy calls'
    ]
  },
  {
    name: 'Scale',
    price: '$499', per: '/mo',
    desc: 'For established businesses ready to dominate their market with advanced automation and paid advertising.',
    features: [
      'Everything in Growth',
      'Paid ad management (Google + Meta)',
      'Advanced workflow automation',
      'Dedicated account manager',
      'Custom reporting dashboard',
      'Priority support (24-hr response)'
    ]
  },
  {
    name: 'Enterprise',
    price: 'Custom', per: '',
    desc: 'Fully custom solutions for high-volume businesses that need white-glove service and enterprise-grade infrastructure.',
    features: [
      'Everything in Scale',
      'Custom AI automation builds',
      'Dedicated development team',
      'Multi-location management',
      'White-label reporting suite',
      'Weekly executive strategy reviews'
    ]
  }
];

// â”€â”€ CHALLENGE EXPLANATIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const CH_EXP = {
  "Not enough leads / traffic": {
    name: "Lead Generation Gap",
    desc: "Your pipeline is running dry. BizStack will deploy a multi-channel strategy â€” targeted SEO, paid campaigns, and content marketing â€” to drive a consistent flow of inbound leads from people already searching for what you offer.",
    pill: "SEO + Paid Ads + Content"
  },
  "Low website conversion rate": {
    name: "Conversion Optimization",
    desc: "Traffic without conversions is wasted spend. We'll audit your site, redesign key conversion points, and implement A/B-tested landing pages that turn visitors into booked appointments and paying customers.",
    pill: "CRO + Landing Pages"
  },
  "Poor online reputation / reviews": {
    name: "Reputation Management",
    desc: "Reviews are your most powerful sales asset â€” or your biggest liability. We automate review requests at exactly the right moment and arm you with a professional response playbook that builds trust at scale.",
    pill: "Review Automation + Management"
  },
  "Too many manual repetitive tasks": {
    name: "Workflow Automation",
    desc: "Every repetitive task is costing you real money. We'll map your operations and build automated workflows for follow-ups, scheduling, invoicing, and reporting â€” so you can focus on growth, not busywork.",
    pill: "Process Automation + AI"
  },
  "No clear marketing strategy": {
    name: "Marketing Strategy",
    desc: "Random acts of marketing get random results. We'll analyze your market and competitors, then build a data-driven 90-day roadmap tailored to your goals â€” and execute every step of it.",
    pill: "Strategy + Full Execution"
  },
  "Inconsistent or unpredictable revenue": {
    name: "Revenue Consistency",
    desc: "Revenue spikes and valleys kill momentum and planning. We'll diversify your acquisition channels and build retargeting systems that keep a steady stream of new and returning customers coming in.",
    pill: "Retention + Multi-Channel"
  },
  "Hard to manage customer follow-up": {
    name: "Follow-Up Automation",
    desc: "Leads go cold within 24 hours. We'll build automated email and SMS sequences that follow up on your behalf, nurturing every lead through your funnel until they're ready to buy.",
    pill: "Email + SMS Automation"
  },
  "No CRM or client tracking system": {
    name: "CRM Implementation",
    desc: "You can't scale what you can't track. We'll implement and configure a CRM perfectly matched to your sales process, so every lead, deal, and customer is always visible and nothing falls through the cracks.",
    pill: "CRM Setup + Training"
  },
  "Weak social media presence": {
    name: "Social Media Growth",
    desc: "In today's market, social proof is non-negotiable. We'll build a consistent content calendar, manage your accounts, and run targeted campaigns that grow your following into a steady stream of paying customers.",
    pill: "Content + Paid Social"
  },
  "Struggling to scale operations": {
    name: "Operations Infrastructure",
    desc: "Growth breaks things. We'll audit your current processes and implement scalable systems â€” from project management to team communication to client onboarding â€” built to grow with you without falling apart.",
    pill: "Systems + Infrastructure"
  }
};

// â”€â”€ STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let current = 0;
const answers = {};
const TOTAL = QUESTIONS.length;
let advTimer = null;

// â”€â”€ PROGRESS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function setProgress(pct) {
  document.getElementById('progressBar').style.width = pct + '%';
}

// â”€â”€ RENDER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function render(dir = 'fwd', skipExit = false) {
  clearTimeout(advTimer);
  const panel = document.getElementById('qPanel');
  const q = QUESTIONS[current];
  setProgress((current / TOTAL) * 100);

  const html = buildQ(q);

  if (skipExit) {
    panel.innerHTML = html;
    panel.classList.add('enter-left');
    requestAnimationFrame(() => requestAnimationFrame(() => panel.classList.remove('enter-left')));
    bindQ(q);
    focusFirst(panel);
    return;
  }

  const exitCls = dir === 'fwd' ? 'exit-left' : 'exit-right';
  const enterCls = dir === 'fwd' ? 'enter-left' : 'enter-right';

  panel.classList.add(exitCls);
  setTimeout(() => {
    panel.innerHTML = html;
    panel.classList.remove(exitCls);
    panel.classList.add(enterCls);
    requestAnimationFrame(() => requestAnimationFrame(() => panel.classList.remove(enterCls)));
    bindQ(q);
    focusFirst(panel);
  }, 240);
}

function focusFirst(panel) {
  const inp = panel.querySelector('.q-input');
  if (inp) setTimeout(() => inp.focus(), 280);
}

// â”€â”€ BUILD HTML â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function ckSvg() {
  return `<svg width="11" height="8" viewBox="0 0 11 8" fill="none">
    <path d="M1 4L4 7L10 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>`;
}

function buildQ(q) {
  const isLast = current === TOTAL - 1;
  let body = '';

  if (q.type === 'text' || q.type === 'email' || q.type === 'tel') {
    const v = answers[q.id] || '';
    body = `<input class="q-input" type="${q.type}" id="qInp" placeholder="${q.placeholder}" value="${v}" autocomplete="off">
    <div class="err-msg" id="qErr"></div>`;
  }

  if (q.type === 'textarea') {
    const v = answers[q.id] || '';
    body = `<textarea class="q-textarea" id="qInp" placeholder="${q.placeholder}">${v}</textarea>
    <div class="err-msg" id="qErr"></div>`;
  }

  if (q.type === 'text-dual') {
    const v = answers[q.id] || {};
    body = `<div class="dual-row">
      ${q.fields.map(f => `<div>
        <input class="q-input" type="text" data-key="${f.key}" placeholder="${f.placeholder}" value="${v[f.key] || ''}" autocomplete="off">
      </div>`).join('')}
    </div>
    <div class="err-msg" id="qErr"></div>`;
  }

  if (q.type === 'single-grid') {
    const sel = answers[q.id] || null;
    body = `<div class="single-grid">
      ${q.options.map(o => `<div class="sg-opt${sel === o ? ' sel' : ''}" data-v="${o}">${o}</div>`).join('')}
    </div>
    <div class="err-msg" id="qErr"></div>`;
  }

  if (q.type === 'single-card') {
    const selLabel = answers[q.id] ? answers[q.id].label : null;
    body = `<div class="single-cards">
      ${q.options.map(o => `<div class="sc-opt${selLabel === o.label ? ' sel' : ''}" data-label="${o.label}">
        <div class="sc-icon">${o.icon}</div>
        <div class="sc-body">
          <div class="sc-label">${o.label}</div>
          ${o.desc ? `<div class="sc-desc">${o.desc}</div>` : ''}
        </div>
        <div class="sc-check">
          <span class="sc-check-svg">${ckSvg()}</span>
        </div>
      </div>`).join('')}
    </div>
    <div class="err-msg" id="qErr"></div>`;
  }

  if (q.type === 'multi') {
    const sel = answers[q.id] || [];
    body = `<div class="multi-grid">
      ${q.options.map(o => `<div class="ms-opt${sel.includes(o) ? ' sel' : ''}" data-v="${o}">
        <div class="ms-cb"><span class="ms-cb-svg">${ckSvg()}</span></div>
        <div class="ms-label">${o}</div>
      </div>`).join('')}
    </div>
    ${q.required ? '<div class="err-msg" id="qErr"></div>' : ''}`;
  }

  const nav = `<div class="q-nav">
    ${current > 0 ? '<button class="btn-back" id="btnBack">â† Back</button>' : ''}
    ${isLast
      ? `<button class="btn-final" id="btnCont">See My Recommendation â†’</button>`
      : `<button class="btn-cont" id="btnCont">Continue â†’</button>`
    }
  </div>`;

  return `
    <div class="q-step">Question ${current + 1} of ${TOTAL}</div>
    <div class="q-title">${q.title}</div>
    <div class="q-sub">${q.sub}</div>
    ${body}
    ${nav}
  `;
}

// â”€â”€ BIND LISTENERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function bindQ(q) {
  if (!answers[q.id] && q.type === 'multi') answers[q.id] = [];

  if (q.type === 'single-grid') {
    document.querySelectorAll('.sg-opt').forEach(el => {
      el.addEventListener('click', () => {
        document.querySelectorAll('.sg-opt').forEach(x => x.classList.remove('sel'));
        el.classList.add('sel');
        answers[q.id] = el.dataset.v;
        hideErr();
      });
    });
  }

  if (q.type === 'single-card') {
    document.querySelectorAll('.sc-opt').forEach(el => {
      el.addEventListener('click', () => {
        clearTimeout(advTimer);
        document.querySelectorAll('.sc-opt').forEach(x => x.classList.remove('sel'));
        el.classList.add('sel');
        const opt = q.options.find(o => o.label === el.dataset.label);
        answers[q.id] = opt;
        hideErr();
        advTimer = setTimeout(() => advance(), 380);
      });
    });
  }

  if (q.type === 'multi') {
    document.querySelectorAll('.ms-opt').forEach(el => {
      el.addEventListener('click', () => {
        const v = el.dataset.v;
        const idx = answers[q.id].indexOf(v);
        if (idx === -1) { answers[q.id].push(v); el.classList.add('sel'); }
        else { answers[q.id].splice(idx, 1); el.classList.remove('sel'); }
        hideErr();
      });
    });
  }

  if (q.type === 'text-dual') {
    if (!answers[q.id]) answers[q.id] = {};
    document.querySelectorAll('.dual-row .q-input').forEach(inp => {
      inp.addEventListener('input', () => { answers[q.id][inp.dataset.key] = inp.value.trim(); });
    });
  }

  const singleInp = document.getElementById('qInp');
  if (singleInp) {
    singleInp.addEventListener('input', () => { answers[q.id] = singleInp.value; });
    singleInp.addEventListener('keydown', e => {
      if (e.key === 'Enter' && q.type !== 'textarea') advance();
    });
  }

  const back = document.getElementById('btnBack');
  if (back) back.addEventListener('click', () => { clearTimeout(advTimer); current--; render('back'); });

  const cont = document.getElementById('btnCont');
  if (cont) cont.addEventListener('click', advance);
}

// â”€â”€ VALIDATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function validate(q) {
  if (!q.required) return true;
  const v = answers[q.id];
  switch (q.type) {
    case 'text':     return v && v.trim().length >= 2;
    case 'email':    return v && /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.trim());
    case 'tel':      return true;
    case 'textarea': return v && v.trim().length >= 5;
    case 'text-dual': return v && v.city && v.city.length > 0 && v.state && v.state.length > 0;
    case 'single-grid': return !!v;
    case 'single-card': return !!v;
    case 'multi':    return v && v.length > 0;
    default: return true;
  }
}

function showErr(msg) {
  const el = document.getElementById('qErr');
  if (el) { el.textContent = msg; el.classList.add('show'); }
  const inp = document.getElementById('qInp');
  if (inp) inp.classList.add('err');
}
function hideErr() {
  const el = document.getElementById('qErr');
  if (el) el.classList.remove('show');
  const inp = document.getElementById('qInp');
  if (inp) inp.classList.remove('err');
}

// â”€â”€ ADVANCE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function advance() {
  clearTimeout(advTimer);
  const q = QUESTIONS[current];

  // Sync latest text values
  const singleInp = document.getElementById('qInp');
  if (singleInp) answers[q.id] = singleInp.value;

  if (q.type === 'text-dual') {
    if (!answers[q.id]) answers[q.id] = {};
    document.querySelectorAll('.dual-row .q-input').forEach(inp => {
      answers[q.id][inp.dataset.key] = inp.value.trim();
    });
  }

  if (!validate(q)) {
    const msgs = {
      text: "Please fill this in before continuing.",
      email: "Please enter a valid email address.",
      tel: "Please enter your phone number.",
      textarea: "Please share a bit more before continuing.",
      'text-dual': "Please enter both your city and state.",
      'single-grid': "Please select an option to continue.",
      'single-card': "Please select an option to continue.",
      multi: "Please select at least one option."
    };
    showErr(msgs[q.type] || "Please complete this field.");
    return;
  }

  if (current === TOTAL - 1) { showResults(); return; }
  current++;
  render('fwd');
}

// â”€â”€ RECOMMENDATION LOGIC â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function calcRec() {
  // Budget ceiling
  const budgetOpt = answers['budget'];
  const ceil = budgetOpt ? (budgetOpt.ceilIndex !== undefined ? budgetOpt.ceilIndex : 3) : 3;

  // Complexity score
  let score = 0;
  const team = answers['teamSize']; if (team) score += (team.score || 0);
  const site = answers['website'];  if (site) score += (site.score || 0);
  const rev  = answers['revenue'];  if (rev)  score += (rev.score  || 0);

  const challenges = answers['challenges'] || [];
  score += challenges.length;

  const tools = answers['tools'] || [];
  // Fewer existing tools = more gaps = higher need
  score += Math.max(0, 4 - Math.min(tools.length, 4));

  // Map score to tier index
  let need;
  if (score <= 4)       need = 0;
  else if (score <= 8)  need = 1;
  else if (score <= 13) need = 2;
  else                  need = 3;

  const exceeds = need > ceil;
  const rec = Math.min(need, ceil);
  return { rec, need, exceeds };
}

// â”€â”€ SHOW RESULTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showResults() {
  setProgress(100);
  const { rec, need, exceeds } = calcRec();
  const tier = TIERS[rec];
  const needTier = TIERS[need];
  const challenges = answers['challenges'] || [];
  const firstName = (answers['name'] || '').trim().split(' ')[0] || 'there';

  const emailBody = encodeURIComponent(
    `Hi BizStack team,\n\nI just completed the BizStack assessment and would love to receive my personalized proposal for the ${tier.name} plan.\n\nName: ${answers['name'] || ''}\nEmail: ${answers['email'] || ''}\nBudget: ${answers['budget'] ? answers['budget'].label : 'Not specified'}\n\nLooking forward to connecting!`
  );
  const mailtoHref = `mailto:hello@bizstack.ai?subject=${encodeURIComponent(`${tier.name} Plan Proposal â€” ${answers['name'] || 'BizStack Assessment'}`)}&body=${emailBody}`;

  const snap = [
    { label: 'Industry', value: answers['industry'] ? answers['industry'].replace(/^\S+\s/, '') : 'â€”' },
    { label: 'Location', value: answers['location'] ? `${answers['location'].city || 'â€”'}, ${answers['location'].state || 'â€”'}` : 'â€”' },
    { label: 'Team Size', value: answers['teamSize'] ? answers['teamSize'].label : 'â€”' },
    { label: 'Annual Revenue', value: answers['revenue'] ? answers['revenue'].label : 'â€”' },
    { label: 'Monthly Budget', value: answers['budget'] ? answers['budget'].label : 'â€”' },
    { label: 'Timeline', value: answers['timeline'] ? answers['timeline'].label : 'â€”' }
  ];

  let html = `<div id="results">
    <div class="res-header">
      <div class="res-tag">âœ“ Assessment Complete</div>
      <h1>Here's your personalized plan, ${firstName}.</h1>
      <p>Based on your answers, we've matched you with the BizStack tier that best fits your needs and budget.</p>
    </div>

    <div class="tier-card rec">
      <div class="tier-badge">â­ Recommended for You</div>
      <div class="tier-name">${tier.name} Plan</div>
      <div class="tier-price">${tier.price}${tier.per ? `<span>${tier.per}</span>` : ''}</div>
      <div class="tier-desc">${tier.desc}</div>
      <div class="tier-features">
        ${tier.features.map(f => `<div class="tf-item">
          <div class="tf-dot">
            <svg width="9" height="7" viewBox="0 0 9 7" fill="none">
              <path d="M1 3.5L3.2 5.5L8 1" stroke="#10B981" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <span>${f}</span>
        </div>`).join('')}
      </div>
    </div>`;

  if (exceeds) {
    html += `<div class="exceed-card">
      <div class="exceed-icon">âš ï¸</div>
      <div>
        <div class="exceed-title">Your needs align with our ${needTier.name} plan (${needTier.price}/mo)</div>
        <div class="exceed-body">Based on your business complexity and goals, the ${needTier.name} plan would be the ideal fit â€” but it falls outside your stated budget. We've recommended the ${tier.name} plan as the strongest option within your range. When you're ready to scale, upgrading is seamless. Our team can also walk you through flexible options on your free call.</div>
      </div>
    </div>`;
  }

  if (challenges.length > 0) {
    html += `<div class="sec-title">How We'll Address Your Challenges</div>
    <div class="ch-cards">`;
    challenges.forEach(ch => {
      const exp = CH_EXP[ch];
      if (exp) {
        html += `<div class="ch-card">
          <div class="ch-name">${exp.name}</div>
          <div class="ch-desc">${exp.desc}</div>
          <div class="ch-pill">${exp.pill}</div>
        </div>`;
      }
    });
    html += `</div>`;
  }

  html += `<div class="sec-title">Your Business Snapshot</div>
  <div class="snapshot">
    ${snap.map(s => `<div class="sn-item">
      <div class="sn-label">${s.label}</div>
      <div class="sn-value">${s.value}</div>
    </div>`).join('')}
  </div>

  <div class="sec-title">Ready to Get Started?</div>
  <div class="res-ctas">
    <a href="index.html#contact" class="btn-primary-res">ğŸ“ Schedule a Free Call</a>
    <a href="${mailtoHref}" class="btn-secondary-res">âœ‰ï¸ Email My Proposal</a>
  </div>
  <button class="btn-restart" onclick="restart()">â† Start over / retake assessment</button>
  </div>`;

  const stage = document.getElementById('stage');
  const panel = document.getElementById('qPanel');
  panel.classList.add('exit-left');
  setTimeout(() => {
    stage.innerHTML = html;
    stage.style.justifyContent = 'flex-start';
    stage.style.paddingTop = '3rem';
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }, 240);
}

// â”€â”€ RESTART â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function restart() {
  current = 0;
  Object.keys(answers).forEach(k => delete answers[k]);
  const stage = document.getElementById('stage');
  stage.innerHTML = '<div id="qPanel"></div>';
  stage.style.justifyContent = '';
  stage.style.paddingTop = '';
  render('fwd', true);
}

// â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
render('fwd', true);
</script>
</body>
</html>
